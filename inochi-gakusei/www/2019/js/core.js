"use strict";var App=function(){var a=this;this.els={sidebar:$(".navbar.navbar-fixed-left"),d_fancybox:$(".d-fancybox"),d_accordion:$(".toggle-accordion"),d_timeline:$(".timeline")},this.init=function(){a.initFancybox(),a.initAccordionToggle(),a.initScrollSchedule()},this.onClickToggleSidebar=function(i){i.preventDefault(),a.els.sidebar.toggleClass("slide-navbar")},this.initFancybox=function(){a.els.d_fancybox.length&&a.els.d_fancybox.fancybox()},this.initAccordionToggle=function(){a.els.d_accordion.length&&a.els.d_accordion.find(".accordion__title").click(function(){$(this).toggleClass("active"),$(this).next(".accordion__inner").slideToggle("slow")})},this.initScrollSchedule=function(){if(a.els.d_timeline.length){var i=0,t=!1,n=$(".timeline__nav"),o=$("li",n),l=$(".timeline__section .milestone"),e=parseInt(n.css("top")),c=250,s=50;$(window).resize(function(){n.removeClass("fixed"),i=n.offset().top-e,$(window).trigger("scroll")}).trigger("resize"),$(window).scroll(function(){$(window).scrollTop()>i?n.addClass("fixed"):n.removeClass("fixed")}).trigger("scroll"),o.find("span").click(function(){var i=$(this).parent(),e=i.index(),n=l.eq(e);if(!i.hasClass("active")&&n.length){t=e;var o=n.offset().top;$("html, body").animate({scrollTop:o},{duration:400,complete:function(){t=!1}})}}),$(window).scroll(function(){var i=$(window).scrollTop()+$(window).height()/5,e=-1;!1===t?l.each(function(){if(0<$(this).offset().top-i)return!1;e++}):e=t,n.css("top",-1*e*s+c+"px"),o.filter(".active").removeClass("active"),o.eq(-1!=e?e:0).addClass("active")}).trigger("scroll")}}};jQuery(document).ready(function(i){window.d_app=new App,d_app.init()});